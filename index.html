

<!DOCTYPE html>

<html lang="en">

<head>

Â  <meta charset="UTF-8">

Â  <title>Tic Tac Toe - Royal Edition</title>

Â  <meta name="viewport" content="width=device-width, initial-scale=1">

Â  <style>

Â  Â  /* Basic reset and variables */

Â  Â  :root {

Â  Â  Â  --bg-color: #f0f4f8;

Â  Â  Â  --panel-color: rgba(255, 255, 255, 0.3);

Â  Â  Â  --text-color: #222;

Â  Â  Â  --x-color: #D32F2F;

Â  Â  Â  --o-color: #1976D2;

Â  Â  Â  --accent-color: #FFC107;

Â  Â  Â  --hover-color: rgba(255, 255, 255, 0.5);

Â  Â  }

Â  Â  [data-theme="dark"] {

Â  Â  Â  --bg-color: #121212;

Â  Â  Â  --panel-color: rgba(20, 20, 20, 0.4);

Â  Â  Â  --text-color: #eef;

Â  Â  Â  --accent-color: #FFD600;

Â  Â  }

Â  Â  * { margin: 0; padding: 0; box-sizing: border-box; }

Â  Â  body {

Â  Â  Â  background: var(--bg-color) url('https://source.unsplash.com/1600x900/?marble,royal') no-repeat center/cover;

Â  Â  Â  font-family: 'Segoe UI', Tahoma, sans-serif;

Â  Â  Â  color: var(--text-color);

Â  Â  Â  display: flex; flex-direction: column; align-items: center;

Â  Â  Â  min-height: 100vh; padding: 1rem;

Â  Â  Â  transition: background 0.5s;

Â  Â  }

Â  Â  .container {

Â  Â  Â  backdrop-filter: blur(10px);

Â  Â  Â  -webkit-backdrop-filter: blur(10px);

Â  Â  Â  background: var(--panel-color);

Â  Â  Â  border-radius: 20px;

Â  Â  Â  padding: 20px;

Â  Â  Â  width: 300px;

Â  Â  Â  max-width: 90%;

Â  Â  Â  box-shadow: 0 4px 30px rgba(0,0,0,0.1);

Â  Â  Â  text-align: center;

Â  Â  }

Â  Â  h1 {

Â  Â  Â  font-size: 1.5em;

Â  Â  Â  color: var(--accent-color);

Â  Â  Â  margin-bottom: 0.5em;

Â  Â  Â  text-shadow: 1px 1px 2px rgba(0,0,0,0.2);

Â  Â  }

Â  Â  .scoreboard {

Â  Â  Â  margin-bottom: 1em;

Â  Â  Â  font-size: 0.9em;

Â  Â  Â  letter-spacing: 0.5px;

Â  Â  }

Â  Â  .status {

Â  Â  Â  margin: 0.5em 0 1em;

Â  Â  Â  font-weight: bold;

Â  Â  }

Â  Â  #board {

Â  Â  Â  display: grid;

Â  Â  Â  grid-template: repeat(3, 80px) / repeat(3, 80px);

Â  Â  Â  gap: 5px;

Â  Â  Â  margin: 0 auto 1em;

Â  Â  }

Â  Â  .cell {

Â  Â  Â  background: rgba(255, 255, 255, 0.4);

Â  Â  Â  border-radius: 10px;

Â  Â  Â  display: flex;

Â  Â  Â  align-items: center;

Â  Â  Â  justify-content: center;

Â  Â  Â  font-size: 2.5em;

Â  Â  Â  cursor: pointer;

Â  Â  Â  position: relative;

Â  Â  Â  transition: background 0.3s, transform 0.1s;

Â  Â  }

Â  Â  .cell:hover {

Â  Â  Â  background: var(--hover-color);

Â  Â  Â  transform: scale(1.05);

Â  Â  }

Â  Â  .cell.disabled { cursor: default; }

Â  Â  .cell.x::before,

Â  Â  .cell.o::before {

Â  Â  Â  content: attr(data-mark);

Â  Â  Â  opacity: 0;

Â  Â  Â  animation: fadeIn 0.3s forwards;

Â  Â  }

Â  Â  .cell.win {

Â  Â  Â  animation: glow 1s alternate infinite;

Â  Â  }

Â  Â  @keyframes fadeIn {

Â  Â  Â  from { opacity: 0; transform: scale(0.5); }

Â  Â  Â  to { opacity: 1; transform: scale(1); }

Â  Â  }

Â  Â  @keyframes glow {

Â  Â  Â  0% { box-shadow: 0 0 10px var(--accent-color); }

Â  Â  Â  100% { box-shadow: 0 0 20px var(--accent-color); }

Â  Â  }

Â  Â  button {

Â  Â  Â  margin: 0.5em 0.2em;

Â  Â  Â  padding: 0.5em 1em;

Â  Â  Â  border: none;

Â  Â  Â  border-radius: 5px;

Â  Â  Â  background: var(--accent-color);

Â  Â  Â  color: #fff;

Â  Â  Â  font-size: 0.9em;

Â  Â  Â  cursor: pointer;

Â  Â  Â  transition: background 0.3s;

Â  Â  }

Â  Â  button:hover {

Â  Â  Â  background: #e0a800;

Â  Â  }

Â  Â  #themeToggle {

Â  Â  Â  position: absolute;

Â  Â  Â  top: 10px; right: 10px;

Â  Â  Â  background: none;

Â  Â  Â  font-size: 0.9em;

Â  Â  Â  color: var(--text-color);

Â  Â  Â  opacity: 0.7;

Â  Â  }

Â  Â  #themeToggle:hover { opacity: 1; }

Â  </style>

</head>

<body>


<div id="themeToggle" onclick="toggleTheme()">ğŸŒ™ / â˜€ï¸</div>


<div class="container">

Â  <h1>Tic Tac Toe - Royal</h1>

Â  <div class="scoreboard">

Â  Â  X Wins: <span id="xWins">0</span> |

Â  Â  O Wins: <span id="oWins">0</span> |

Â  Â  Draws: <span id="draws">0</span>

Â  </div>

Â  <div class="status" id="status">Player X's turn</div>

Â  <div id="board">

Â  Â  <!-- 3x3 Cells -->

Â  Â  <div class="cell" data-index="0"></div>

Â  Â  <div class="cell" data-index="1"></div>

Â  Â  <div class="cell" data-index="2"></div>

Â  Â  <div class="cell" data-index="3"></div>

Â  Â  <div class="cell" data-index="4"></div>

Â  Â  <div class="cell" data-index="5"></div>

Â  Â  <div class="cell" data-index="6"></div>

Â  Â  <div class="cell" data-index="7"></div>

Â  Â  <div class="cell" data-index="8"></div>

Â  </div>

Â  <button id="restartBtn">Restart</button>

Â  <span style="margin-left:10px;">

Â  Â  <label>AI First: <input type="checkbox" id="aiFirst"></label>

Â  </span>

</div>


<script>

Â  // Game state variables

Â  let board = Array(9).fill('');

Â  let currentPlayer = 'X';

Â  let gameOver = false;

Â  let xWins = 0, oWins = 0, draws = 0;

Â  const winPatterns = [

Â  Â  [0,1,2],[3,4,5],[6,7,8],

Â  Â  [0,3,6],[1,4,7],[2,5,8],

Â  Â  [0,4,8],[2,4,6]

Â  ];

Â  const cells = document.querySelectorAll('.cell');

Â  const statusText = document.getElementById('status');

Â  const xWinsText = document.getElementById('xWins');

Â  const oWinsText = document.getElementById('oWins');

Â  const drawsText = document.getElementById('draws');

Â  const restartBtn = document.getElementById('restartBtn');

Â  const aiCheckbox = document.getElementById('aiFirst');


Â  // Audio context for click sounds

Â  let audioCtx = new (window.AudioContext || window.webkitAudioContext)();

Â  function playBeep(freq, duration=0.15) {

Â  Â  let osc = audioCtx.createOscillator();

Â  Â  let gain = audioCtx.createGain();

Â  Â  osc.connect(gain); gain.connect(audioCtx.destination);

Â  Â  osc.type = 'square';

Â  Â  osc.frequency.value = freq;

Â  Â  gain.gain.setValueAtTime(0.15, audioCtx.currentTime);

Â  Â  osc.start();

Â  Â  osc.stop(audioCtx.currentTime + duration);

Â  }


Â  // Initialize game

Â  function initGame() {

Â  Â  board.fill('');

Â  Â  gameOver = false;

Â  Â  currentPlayer = 'X';

Â  Â  cells.forEach(cell => {

Â  Â  Â  cell.textContent = '';

Â  Â  Â  cell.className = 'cell';

Â  Â  Â  cell.removeAttribute('data-mark');

Â  Â  Â  cell.addEventListener('click', onCellClick);

Â  Â  });

Â  Â  // If AI-first is checked, let AI (as X) make a random move

Â  Â  if (aiCheckbox.checked) {

Â  Â  Â  currentPlayer = 'O'; // let X be AI

Â  Â  Â  statusText.textContent = "AI (X) is thinking...";

Â  Â  Â  setTimeout(aiMakeMove, randomDelay());

Â  Â  } else {

Â  Â  Â  currentPlayer = 'X';

Â  Â  Â  statusText.textContent = "Player X's turn";

Â  Â  }

Â  }


Â  function onCellClick(e) {

Â  Â  if (gameOver) return;

Â  Â  const idx = e.target.getAttribute('data-index');

Â  Â  if (board[idx] !== '' ) return;

Â  Â  // First click should resume audio context for some browsers

Â  Â  audioCtx.resume();

Â  Â  placeMark(idx, 'X');

Â  Â  playBeep(330); // click sound

Â  Â  checkGameEnd();

Â  Â  if (!gameOver) {

Â  Â  Â  currentPlayer = 'O';

Â  Â  Â  statusText.textContent = "AI is thinking...";

Â  Â  Â  setTimeout(aiMakeMove, randomDelay());

Â  Â  }

Â  }


Â  function aiMakeMove() {

Â  Â  if (gameOver) return;

Â  Â  // Minimax to find best move for O

Â  Â  let bestScore = Infinity, move = null;

Â  Â  for (let i = 0; i < 9; i++) {

Â  Â  Â  if (board[i] === '') {

Â  Â  Â  Â  board[i] = 'O';

Â  Â  Â  Â  let score = minimax(board, 0, true);

Â  Â  Â  Â  board[i] = '';

Â  Â  Â  Â  if (score < bestScore) {

Â  Â  Â  Â  Â  bestScore = score;

Â  Â  Â  Â  Â  move = i;

Â  Â  Â  Â  }

Â  Â  Â  }

Â  Â  }

Â  Â  if (move !== null) {

Â  Â  Â  placeMark(move, 'O');

Â  Â  Â  playBeep(440); // AI move sound

Â  Â  }

Â  Â  checkGameEnd();

Â  Â  if (!gameOver) {

Â  Â  Â  currentPlayer = 'X';

Â  Â  Â  statusText.textContent = "Player X's turn";

Â  Â  }

Â  }


Â  function placeMark(idx, mark) {

Â  Â  board[idx] = mark;

Â  Â  const cell = document.querySelector(`.cell[data-index='${idx}']`);

Â  Â  cell.setAttribute('data-mark', mark);

Â  Â  cell.classList.add(mark.toLowerCase());

Â  Â  cell.removeEventListener('click', onCellClick);

Â  }


Â  function checkGameEnd() {

Â  Â  // Check for win

Â  Â  let winner = null;

Â  Â  winPatterns.forEach(pattern => {

Â  Â  Â  const [a,b,c] = pattern;

Â  Â  Â  if (board[a] && board[a] === board[b] && board[a] === board[c]) {

Â  Â  Â  Â  winner = board[a];

Â  Â  Â  Â  // highlight winning cells

Â  Â  Â  Â  document.querySelector(`.cell[data-index='${a}']`).classList.add('win');

Â  Â  Â  Â  document.querySelector(`.cell[data-index='${b}']`).classList.add('win');

Â  Â  Â  Â  document.querySelector(`.cell[data-index='${c}']`).classList.add('win');

Â  Â  Â  }

Â  Â  });

Â  Â  if (winner) {

Â  Â  Â  gameOver = true;

Â  Â  Â  if (winner === 'X') {

Â  Â  Â  Â  xWins++;

Â  Â  Â  Â  xWinsText.textContent = xWins;

Â  Â  Â  } else {

Â  Â  Â  Â  oWins++;

Â  Â  Â  Â  oWinsText.textContent = oWins;

Â  Â  Â  }

Â  Â  Â  statusText.textContent = `${winner} wins!`;

Â  Â  Â  playBeep(600, 0.3); // win sound

Â  Â  Â  return;

Â  Â  }

Â  Â  // Check for draw

Â  Â  if (!board.includes('')) {

Â  Â  Â  gameOver = true;

Â  Â  Â  draws++;

Â  Â  Â  drawsText.textContent = draws;

Â  Â  Â  statusText.textContent = "It's a draw!";

Â  Â  Â  playBeep(500, 0.2); // draw sound

Â  Â  Â  return;

Â  Â  }

Â  }


Â  // Minimax algorithm: returns score for 'X' (maximizer) perspective

Â  function minimax(boardState, depth, isMaximizing) {

Â  Â  // Check terminal states

Â  Â  const win = checkWinner(boardState);

Â  Â  if (win === 'X') return 10 - depth;

Â  Â  if (win === 'O') return depth - 10;

Â  Â  if (!boardState.includes('')) return 0; // draw


Â  Â  if (isMaximizing) {

Â  Â  Â  let best = -Infinity;

Â  Â  Â  for (let i = 0; i < 9; i++) {

Â  Â  Â  Â  if (boardState[i] === '') {

Â  Â  Â  Â  Â  boardState[i] = 'X';

Â  Â  Â  Â  Â  best = Math.max(best, minimax(boardState, depth + 1, false));

Â  Â  Â  Â  Â  boardState[i] = '';

Â  Â  Â  Â  }

Â  Â  Â  }

Â  Â  Â  return best;

Â  Â  } else {

Â  Â  Â  let best = Infinity;

Â  Â  Â  for (let i = 0; i < 9; i++) {

Â  Â  Â  Â  if (boardState[i] === '') {

Â  Â  Â  Â  Â  boardState[i] = 'O';

Â  Â  Â  Â  Â  best = Math.min(best, minimax(boardState, depth + 1, true));

Â  Â  Â  Â  Â  boardState[i] = '';

Â  Â  Â  Â  }

Â  Â  Â  }

Â  Â  Â  return best;

Â  Â  }

Â  }


Â  // Check for a winner (for minimax)

Â  function checkWinner(bd) {

Â  Â  for (let pattern of winPatterns) {

Â  Â  Â  const [a,b,c] = pattern;

Â  Â  Â  if (bd[a] && bd[a] === bd[b] && bd[a] === bd[c]) {

Â  Â  Â  Â  return bd[a];

Â  Â  Â  }

Â  Â  }

Â  Â  return null;

Â  }


Â  function randomDelay() {

Â  Â  return 500 + Math.random() * 500;

Â  }


Â  restartBtn.addEventListener('click', () => {

Â  Â  initGame();

Â  });


Â  // Theme toggle

Â  function toggleTheme() {

Â  Â  const theme = document.documentElement.getAttribute('data-theme') === 'dark' ? 'light' : 'dark';

Â  Â  document.documentElement.setAttribute('data-theme', theme);

Â  }


Â  // Start the game

Â  initGame();

</script>

</body>

</html>